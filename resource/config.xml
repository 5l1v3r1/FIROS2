<?xml version="1.0"?>
<is>
    <bridge>
        <!-- RTPS -> RTPS -->
        <bridge_type>unidirectional</bridge_type>
        <subscriber>
            <participant>rtps_subscriber</participant>
            <domain>rtps_sub_domain</domain>
            <topic>rtps_sub_topic</topic>
            <type>rtps_sub_data_type</type>
            <partition>rtps_sub_qos_partition</partition> <!-- OPTIONAL -->
        </subscriber>
        <publisher>
            <participant>rtps_publisher</participant>
            <domain>rtps_pub_domain</domain>
            <topic>rtps_pub_topic</topic>
            <type>rtps_pub_data_type</type>
            <partition>rtps_pub_qos_partition</partition> <!-- OPTIONAL -->
        </publisher>
        <transformation>/path/to/transformation/library</transformation> <!-- OPTIONAL, must define transform function -->
    </bridge>

    <bridge>
        <!-- RTPS -> NGSIv2 -->
        <bridge_type>unidirectional</bridge_type>
        <subscriber>
            <participant>rtps_subscriber</participant>
            <domain>rtps_sub_domain</domain>
            <topic>rtps_sub_topic</topic>
            <type>rtps_sub_data_type</type>
            <partition>rtps_sub_qos_partition</partition> <!-- OPTIONAL -->
        </subscriber>
        <transformation>/path/to/transformation/library</transformation> <!-- OPTIONAL, must define transform function -->
        <bridge_library>/path/to/bridge/library</bridge_library> <!-- must load tranform function as well -->
        <bridge_configuration>
            <ngsiv2>
                <participant>ngsiv2_participant</participant>
                <id>ngsiv2_entity_id</id>
                <host>context_broker_host</host>
                <port>context_broker_port</port>
            </ngsiv2>
        </bridge_configuration>
    </bridge>

    <bridge>
        <!-- NGSIv2 -> RTPS -->
        <bridge_type>unidirectional</bridge_type>
        <publisher>
            <participant>rtps_publisher</participant>
            <domain>rtps_pub_domain</domain>
            <topic>rtps_pub_topic</topic>
            <type>rtps_pub_data_type</type>
            <partition>rtps_pub_qos_partition</partition> <!-- OPTIONAL -->
        </publisher>
        <bridge_library>/path/to/bridge/library</bridge_library> <!-- must load tranform function as well -->
        <bridge_configuration>
            <ngsiv2>
                <participant>ngsiv2_participant</participant>
                <id>ngsiv2_entity_id</id>
                <host>context_broker_host</host>
                <port>context_broker_port</port>
                <subscription>
                    <type>ngsiv2_entity_type</type> <!-- OPTIONAL -->
                    <attrs>ngsiv2_condition_attrs_list</attrs> <!-- OPTIONAL, comma separated -->
                    <expression>ngsiv2_condition_expression</expression> <!-- OPTIONAL -->
                    <notifs>ngsiv2_notification_attrs_list</notifs> <!-- comma separated -->
                    <listener_host>listener_host</listener_host>
                    <listener_port>listener_port</listener_port>
                    <expiration>ngsiv2_expiration_time</expiration> <!-- OPTIONAL -->
                    <throttling>ngsiv2_throttling</throttling> <!-- OPTIONAL -->
                    <description>ngsiv2_description</description> <!-- OPTIONAL -->
                </subscription>
                <transformFromNGSIv2>/path/to/ngsiv2/transformation/library</transformFromNGSIv2> <!-- OPTIONAL -->
            </ngsiv2>
        </bridge_configuration>
    </bridge>

    <bridge>
        <bridge_type>bidirectional</bridge_type>
        <rtps>
            <subscriber>
                <participant>rtps_subscriber</participant>
                <domain>rtps_sub_domain</domain>
                <topic>rtps_sub_topic</topic>
                <type>rtps_sub_data_type</type>
                <partition>rtps_sub_qos_partition</partition>
            </subscriber>
            <publisher>
                <participant>rtps_publisher</participant>
                <domain>rtps_pub_domain</domain>
                <topic>rtps_pub_topic</topic>
                <type>rtps_pub_data_type</type>
                <partition>rtps_pub_qos_partition</partition>
            </publisher>
        </rtps>
        <bridge_configuration>
            <ngsiv2>
                <participant>ngsiv2_participant</participant>
                <id>ngsiv2_entity_id</id>
                <host>context_broker_host</host>
                <port>context_broker_port</port>
                <subscription>
                    <type>ngsiv2_entity_type</type> <!-- OPTIONAL -->
                    <attrs>ngsiv2_condition_attrs_list</attrs> <!-- OPTIONAL, comma separated -->
                    <expression>ngsiv2_condition_expression</expression> <!-- OPTIONAL -->
                    <notifs>ngsiv2_notification_attrs_list</notifs> <!-- comma separated -->
                    <listener_host>listener_host</listener_host>
                    <listener_port>listener_port</listener_port>
                    <expiration>ngsiv2_expiration_time</expiration> <!-- OPTIONAL -->
                    <throttling>ngsiv2_throttling</throttling> <!-- OPTIONAL -->
                    <description>ngsiv2_description</description> <!-- OPTIONAL -->
                </subscription>
                <transformFromNGSIv2>/path/to/ngsiv2/transformation/library</transformFromNGSIv2> <!-- OPTIONAL (NGSIv2) -->
            </ngsiv2>
        </bridge_configuration>
        <transformation>/path/to/transformation/library</transformation>  <!-- OPTIONAL (RTPS) -->
        <bridge_library>/path/to/bridge/library</bridge_library>
    </bridge>
</is>
